{"ast":null,"code":"import L from \"leaflet\";\nimport { React, useState, useEffect } from \"react\";\nimport { useMapEvents, Marker, Popup, Tooltip, CircleMarker } from \"react-leaflet\";\nimport marker from \"./result-icon.svg\";\nimport { toggle } from \"../App\";\nexport const myIcon = new L.Icon({\n  iconUrl: marker,\n  iconRetinaUrl: marker,\n  popupAnchor: [-0, -0],\n  iconSize: [24, 36]\n});\nexport const BuildScenarioOne = clickState => {\n  //here is where I will add lasso button, run analysis, clear selection button\n};\n_c = BuildScenarioOne;\nconst handleFeatureClick = e => {\n  if (!popRef.current) return;\n  popRef.current.resetStyle();\n  const layer = e.target;\n  layer.setStyle({\n    color: \"red\"\n  });\n};\nexport function onEachHex(trail, layer, clickState) {\n  const adm0 = trail.properties.adm0_name;\n  const adm1 = trail.properties.adm1_name;\n  const adm2 = trail.properties.adm2_name;\n  const popP = trail.properties.pop_ls_1.toFixed(0);\n  const stuntingP = trail.properties.stunting_1.toFixed(1);\n  const povertyP = trail.properties.gsap_pov21;\n  const hungerP = trail.properties.hunger_1;\n  const wastingP = trail.properties.wasting_1;\n  const under5mortP = trail.properties.under5_mor;\n  const accesstoHWP = trail.properties.handwashin.toFixed(1);\n  const travTimeP = trail.properties.timeperper.toFixed(1);\n  const agPotP = trail.properties.agpotentia;\n  const conflictP = trail.properties.count_viol;\n  const literacWP = trail.properties.women_lite.toFixed(1);\n  const hungerSource = trail.properties.hungersour;\n  //console.log(countryName);\n  layer.bindPopup(\"<b>\" + adm0 + \" | \" + adm1 + \" | \" + adm2 + \"</b><br>Est. Population 2022 (Landscan): <span style='color:black;font-weight:bold'>\" + popP + \"</span><br>Prevalence of Poverty ($2.15/day, GSAP): <span style='color:#9B2226;font-weight:bold'>\" + povertyP + \"%</span><br>Prevalence of Stunting (DHS): <span style='color:#005F73;font-weight:bold'>\" + stuntingP + \"%</span><br> Hunger: <span style='color:#3C4F76;font-weight:bold'>\" + hungerP + \"%</span><br>Prevalence of Wasting (DHS): <span style='color:#0A9396;font-weight:bold'>\" + wastingP + \"%</span><br>Under 5 Mortality per 100,000 (DHS): <span style='color:#94D2BD;font-weight:bold'>\" + under5mortP + \"</span><br> Count of Violence Events (ACLED): <span style='color:#BB3E03;font-weight:bold'>\" + conflictP + \"</span><br>Access to Basic Handwashing (DHS): <span style='color:#b8a004;font-weight:bold'>\" + accesstoHWP + \"%</span><br>Percent of Women Literate (DHS): <span style='color:#EE9B00;font-weight:bold'>\" + literacWP + \"%</span><br>Avg. Minutes in Travel Time to a City: <span style='color:#66507d;font-weight:bold'>\" + travTimeP + \"</span><br>Potential Agricultural Growth (FAO): <span style='color:#354d36;font-weight:bold'>\" + agPotP + \"</span>\");\n  layer.on({\n    click: handleFeatureClick\n  });\n\n  //layer.on('mouseover', function (e) {\n  //  this.openPopup();\n  //});\n  //layer.on('mouseout', function (e) {\n  //    this.closePopup();\n  //});\n}\nexport function layersUtils(geoJsonRef, mapRef) {\n  function highlightOnClick(e) {\n    var layer = e.target;\n    layer.setStyle({\n      weight: 2,\n      color: \"#f90303\",\n      dashArray: \"\",\n      fillOpacity: 0.7\n    });\n    if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {\n      layer.bringToFront();\n    }\n  }\n  function resetHighlight(e) {\n    geoJsonRef.current.leafletElement.resetStyle(e.target);\n  }\n  function zoomToFeature(e) {\n    mapRef.current.leafletElement.fitBounds(e.target.getBounds());\n  }\n  return {\n    highlightOnClick,\n    resetHighlight,\n    zoomToFeature\n  };\n}\nvar _c;\n$RefreshReg$(_c, \"BuildScenarioOne\");","map":{"version":3,"names":["L","React","useState","useEffect","useMapEvents","Marker","Popup","Tooltip","CircleMarker","marker","toggle","myIcon","Icon","iconUrl","iconRetinaUrl","popupAnchor","iconSize","BuildScenarioOne","clickState","_c","handleFeatureClick","e","popRef","current","resetStyle","layer","target","setStyle","color","onEachHex","trail","adm0","properties","adm0_name","adm1","adm1_name","adm2","adm2_name","popP","pop_ls_1","toFixed","stuntingP","stunting_1","povertyP","gsap_pov21","hungerP","hunger_1","wastingP","wasting_1","under5mortP","under5_mor","accesstoHWP","handwashin","travTimeP","timeperper","agPotP","agpotentia","conflictP","count_viol","literacWP","women_lite","hungerSource","hungersour","bindPopup","on","click","layersUtils","geoJsonRef","mapRef","highlightOnClick","weight","dashArray","fillOpacity","Browser","ie","opera","edge","bringToFront","resetHighlight","leafletElement","zoomToFeature","fitBounds","getBounds","$RefreshReg$"],"sources":["C:/Users/kylea/Documents/GIS Projects/GEOG778/kcrest_client/src/components/maputils.js"],"sourcesContent":["import L from \"leaflet\";\r\nimport { React, useState, useEffect } from \"react\";\r\nimport { useMapEvents, Marker, Popup, Tooltip, CircleMarker } from \"react-leaflet\";\r\nimport marker from \"./result-icon.svg\"\r\nimport {toggle} from \"../App\"\r\n\r\n\r\n\r\nexport const myIcon = new L.Icon({\r\n  iconUrl: marker,\r\n  iconRetinaUrl: marker,\r\n  popupAnchor:  [-0, -0],\r\n  iconSize: [24,36],    \r\n});\r\n\r\n\r\n\r\nexport const BuildScenarioOne = (clickState) => {\r\n  //here is where I will add lasso button, run analysis, clear selection button\r\n};\r\n\r\nconst handleFeatureClick = (e) => {\r\n  if (!popRef.current) return;\r\n  popRef.current.resetStyle();\r\n\r\n  const layer = e.target;\r\n\r\n  layer.setStyle({ color: \"red\" });\r\n};\r\n\r\nexport function onEachHex(trail, layer, clickState) {\r\n    const adm0 = trail.properties.adm0_name;\r\n    const adm1 = trail.properties.adm1_name;\r\n    const adm2 = trail.properties.adm2_name;\r\n    const popP = trail.properties.pop_ls_1.toFixed(0);\r\n    const stuntingP = trail.properties.stunting_1.toFixed(1);\r\n    const povertyP = trail.properties.gsap_pov21;\r\n    const hungerP = trail.properties.hunger_1;\r\n    const wastingP = trail.properties.wasting_1;\r\n    const under5mortP = trail.properties.under5_mor;\r\n    const accesstoHWP = trail.properties.handwashin.toFixed(1);\r\n    const travTimeP = trail.properties.timeperper.toFixed(1);\r\n    const agPotP = trail.properties.agpotentia;\r\n    const conflictP = trail.properties.count_viol;\r\n    const literacWP = trail.properties.women_lite.toFixed(1);\r\n    const hungerSource = trail.properties.hungersour;\r\n    //console.log(countryName);\r\n    layer.bindPopup(\"<b>\"+ adm0 + \" | \" + adm1+ \" | \" + adm2 + \"</b><br>Est. Population 2022 (Landscan): <span style='color:black;font-weight:bold'>\"+ popP + \"</span><br>Prevalence of Poverty ($2.15/day, GSAP): <span style='color:#9B2226;font-weight:bold'>\"+ povertyP + \"%</span><br>Prevalence of Stunting (DHS): <span style='color:#005F73;font-weight:bold'>\"+ stuntingP + \"%</span><br> Hunger: <span style='color:#3C4F76;font-weight:bold'>\"+ hungerP + \"%</span><br>Prevalence of Wasting (DHS): <span style='color:#0A9396;font-weight:bold'>\"+ wastingP + \"%</span><br>Under 5 Mortality per 100,000 (DHS): <span style='color:#94D2BD;font-weight:bold'>\"+ under5mortP + \"</span><br> Count of Violence Events (ACLED): <span style='color:#BB3E03;font-weight:bold'>\"+ conflictP + \"</span><br>Access to Basic Handwashing (DHS): <span style='color:#b8a004;font-weight:bold'>\"+ accesstoHWP + \"%</span><br>Percent of Women Literate (DHS): <span style='color:#EE9B00;font-weight:bold'>\"+ literacWP + \"%</span><br>Avg. Minutes in Travel Time to a City: <span style='color:#66507d;font-weight:bold'>\"+ travTimeP + \"</span><br>Potential Agricultural Growth (FAO): <span style='color:#354d36;font-weight:bold'>\"+ agPotP + \"</span>\"  );\r\n    \r\n    layer.on({click: handleFeatureClick})\r\n    \r\n    //layer.on('mouseover', function (e) {\r\n    //  this.openPopup();\r\n  //});\r\n  //layer.on('mouseout', function (e) {\r\n  //    this.closePopup();\r\n  //});\r\n  }\r\n\r\nexport function layersUtils(geoJsonRef, mapRef) {\r\n  function highlightOnClick(e) {\r\n    var layer = e.target;\r\n\r\n    layer.setStyle({\r\n      weight: 2,\r\n      color: \"#f90303\",\r\n      dashArray: \"\",\r\n      fillOpacity: 0.7\r\n    });\r\n\r\n    if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {\r\n      layer.bringToFront();\r\n    }\r\n  }\r\n\r\n  function resetHighlight(e) {\r\n    geoJsonRef.current.leafletElement.resetStyle(e.target);\r\n  }\r\n\r\n  function zoomToFeature(e) {\r\n    mapRef.current.leafletElement.fitBounds(e.target.getBounds());\r\n  }\r\n\r\n  return { highlightOnClick, resetHighlight, zoomToFeature };\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}