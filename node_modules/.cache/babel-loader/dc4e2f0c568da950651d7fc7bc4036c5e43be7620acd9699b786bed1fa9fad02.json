{"ast":null,"code":"import L from \"leaflet\";\nimport { React, useState, useEffect } from \"react\";\nimport { useMapEvents, Marker, Popup, Tooltip, CircleMarker } from \"react-leaflet\";\nimport marker from \"./result-icon.svg\";\nimport { toggle } from \"../App\";\nexport const myIcon = new L.Icon({\n  iconUrl: marker,\n  iconRetinaUrl: marker,\n  popupAnchor: [-0, -0],\n  iconSize: [24, 36]\n});\nexport const BuildScenarioOne = clickState => {\n  //here is where I will add lasso button, run analysis, clear selection button\n};\n_c = BuildScenarioOne;\nexport function onEachHex(trail, layer, clickState) {\n  const adm0 = trail.properties.adm0_name;\n  const adm1 = trail.properties.adm1_name;\n  const adm2 = trail.properties.adm2_name;\n  const popP = trail.properties.pop_ls_1.toFixed(0);\n  const stuntingP = trail.properties.stunting_1.toFixed(1);\n  const povertyP = trail.properties.gsap_pov21;\n  const hungerP = trail.properties.hunger_1;\n  const wastingP = trail.properties.wasting_1;\n  const under5mortP = trail.properties.under5_mor;\n  const accesstoHWP = trail.properties.handwashin.toFixed(1);\n  const travTimeP = trail.properties.timeperper.toFixed(1);\n  const agPotP = trail.properties.agpotentia;\n  const conflictP = trail.properties.count_viol;\n  const literacWP = trail.properties.women_lite.toFixed(1);\n  const hungerSource = trail.properties.hungersour;\n  //console.log(countryName);\n  layer.bindPopup(\"<b>\" + adm0 + \" | \" + adm1 + \" | \" + adm2 + \"</b><br>Est. Population 2022 (Landscan): <span style='color:black;font-weight:bold'>\" + popP + \"</span><br>Prevalence of Poverty ($2.15/day, GSAP): <span style='color:#9B2226;font-weight:bold'>\" + povertyP + \"%</span><br>Prevalence of Stunting (DHS): <span style='color:#005F73;font-weight:bold'>\" + stuntingP + \"%</span><br> Hunger: <span style='color:#3C4F76;font-weight:bold'>\" + hungerP + \"%</span><br>Prevalence of Wasting (DHS): <span style='color:#0A9396;font-weight:bold'>\" + wastingP + \"%</span><br>Under 5 Mortality per 100,000 (DHS): <span style='color:#94D2BD;font-weight:bold'>\" + under5mortP + \"</span><br> Count of Violence Events (ACLED): <span style='color:#BB3E03;font-weight:bold'>\" + conflictP + \"</span><br>Access to Basic Handwashing (DHS): <span style='color:#b8a004;font-weight:bold'>\" + accesstoHWP + \"%</span><br>Percent of Women Literate (DHS): <span style='color:#EE9B00;font-weight:bold'>\" + literacWP + \"%</span><br>Avg. Minutes in Travel Time to a City: <span style='color:#66507d;font-weight:bold'>\" + travTimeP + \"</span><br>Potential Agricultural Growth (FAO): <span style='color:#354d36;font-weight:bold'>\" + agPotP + \"</span>\");\n  //layer.on('mouseover', function (e) {\n  //  this.openPopup();\n  //});\n  //layer.on('mouseout', function (e) {\n  //    this.closePopup();\n  //});\n}\nexport function layersUtils(geoJsonRef, mapRef) {\n  function highlightOnClick(e) {\n    var layer = e.target;\n    layer.setStyle({\n      weight: 2,\n      color: \"#f90303\",\n      dashArray: \"\",\n      fillOpacity: 0.7\n    });\n    if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {\n      layer.bringToFront();\n    }\n  }\n  function resetHighlight(e) {\n    geoJsonRef.current.leafletElement.resetStyle(e.target);\n  }\n  function zoomToFeature(e) {\n    mapRef.current.leafletElement.fitBounds(e.target.getBounds());\n  }\n  return {\n    highlightOnClick,\n    resetHighlight,\n    zoomToFeature\n  };\n}\nvar _c;\n$RefreshReg$(_c, \"BuildScenarioOne\");","map":{"version":3,"names":["L","React","useState","useEffect","useMapEvents","Marker","Popup","Tooltip","CircleMarker","marker","toggle","myIcon","Icon","iconUrl","iconRetinaUrl","popupAnchor","iconSize","BuildScenarioOne","clickState","_c","onEachHex","trail","layer","adm0","properties","adm0_name","adm1","adm1_name","adm2","adm2_name","popP","pop_ls_1","toFixed","stuntingP","stunting_1","povertyP","gsap_pov21","hungerP","hunger_1","wastingP","wasting_1","under5mortP","under5_mor","accesstoHWP","handwashin","travTimeP","timeperper","agPotP","agpotentia","conflictP","count_viol","literacWP","women_lite","hungerSource","hungersour","bindPopup","layersUtils","geoJsonRef","mapRef","highlightOnClick","e","target","setStyle","weight","color","dashArray","fillOpacity","Browser","ie","opera","edge","bringToFront","resetHighlight","current","leafletElement","resetStyle","zoomToFeature","fitBounds","getBounds","$RefreshReg$"],"sources":["C:/Users/kylea/Documents/GIS Projects/GEOG778/kcrest_client/src/components/maputils.js"],"sourcesContent":["import L from \"leaflet\";\r\nimport { React, useState, useEffect } from \"react\";\r\nimport { useMapEvents, Marker, Popup, Tooltip, CircleMarker } from \"react-leaflet\";\r\nimport marker from \"./result-icon.svg\"\r\nimport {toggle} from \"../App\"\r\n\r\n\r\n\r\nexport const myIcon = new L.Icon({\r\n  iconUrl: marker,\r\n  iconRetinaUrl: marker,\r\n  popupAnchor:  [-0, -0],\r\n  iconSize: [24,36],    \r\n});\r\n\r\n\r\n\r\nexport const BuildScenarioOne = (clickState) => {\r\n  //here is where I will add lasso button, run analysis, clear selection button\r\n};\r\n\r\n\r\n\r\nexport function onEachHex(trail, layer, clickState) {\r\n    const adm0 = trail.properties.adm0_name;\r\n    const adm1 = trail.properties.adm1_name;\r\n    const adm2 = trail.properties.adm2_name;\r\n    const popP = trail.properties.pop_ls_1.toFixed(0);\r\n    const stuntingP = trail.properties.stunting_1.toFixed(1);\r\n    const povertyP = trail.properties.gsap_pov21;\r\n    const hungerP = trail.properties.hunger_1;\r\n    const wastingP = trail.properties.wasting_1;\r\n    const under5mortP = trail.properties.under5_mor;\r\n    const accesstoHWP = trail.properties.handwashin.toFixed(1);\r\n    const travTimeP = trail.properties.timeperper.toFixed(1);\r\n    const agPotP = trail.properties.agpotentia;\r\n    const conflictP = trail.properties.count_viol;\r\n    const literacWP = trail.properties.women_lite.toFixed(1);\r\n    const hungerSource = trail.properties.hungersour;\r\n    //console.log(countryName);\r\n    layer.bindPopup(\"<b>\"+ adm0 + \" | \" + adm1+ \" | \" + adm2 + \"</b><br>Est. Population 2022 (Landscan): <span style='color:black;font-weight:bold'>\"+ popP + \"</span><br>Prevalence of Poverty ($2.15/day, GSAP): <span style='color:#9B2226;font-weight:bold'>\"+ povertyP + \"%</span><br>Prevalence of Stunting (DHS): <span style='color:#005F73;font-weight:bold'>\"+ stuntingP + \"%</span><br> Hunger: <span style='color:#3C4F76;font-weight:bold'>\"+ hungerP + \"%</span><br>Prevalence of Wasting (DHS): <span style='color:#0A9396;font-weight:bold'>\"+ wastingP + \"%</span><br>Under 5 Mortality per 100,000 (DHS): <span style='color:#94D2BD;font-weight:bold'>\"+ under5mortP + \"</span><br> Count of Violence Events (ACLED): <span style='color:#BB3E03;font-weight:bold'>\"+ conflictP + \"</span><br>Access to Basic Handwashing (DHS): <span style='color:#b8a004;font-weight:bold'>\"+ accesstoHWP + \"%</span><br>Percent of Women Literate (DHS): <span style='color:#EE9B00;font-weight:bold'>\"+ literacWP + \"%</span><br>Avg. Minutes in Travel Time to a City: <span style='color:#66507d;font-weight:bold'>\"+ travTimeP + \"</span><br>Potential Agricultural Growth (FAO): <span style='color:#354d36;font-weight:bold'>\"+ agPotP + \"</span>\"  );\r\n    //layer.on('mouseover', function (e) {\r\n    //  this.openPopup();\r\n  //});\r\n  //layer.on('mouseout', function (e) {\r\n  //    this.closePopup();\r\n  //});\r\n  }\r\n\r\nexport function layersUtils(geoJsonRef, mapRef) {\r\n  function highlightOnClick(e) {\r\n    var layer = e.target;\r\n\r\n    layer.setStyle({\r\n      weight: 2,\r\n      color: \"#f90303\",\r\n      dashArray: \"\",\r\n      fillOpacity: 0.7\r\n    });\r\n\r\n    if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {\r\n      layer.bringToFront();\r\n    }\r\n  }\r\n\r\n  function resetHighlight(e) {\r\n    geoJsonRef.current.leafletElement.resetStyle(e.target);\r\n  }\r\n\r\n  function zoomToFeature(e) {\r\n    mapRef.current.leafletElement.fitBounds(e.target.getBounds());\r\n  }\r\n\r\n  return { highlightOnClick, resetHighlight, zoomToFeature };\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}