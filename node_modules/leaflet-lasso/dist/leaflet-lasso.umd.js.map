{"version":3,"file":"leaflet-lasso.umd.js","sources":["../src/lasso-polygon.ts","../node_modules/@terraformer/spatial/dist/t-spatial.esm.js","../src/calc.ts","../node_modules/style-inject/dist/style-inject.es.js","../src/lasso-handler.ts","../src/lasso-control.ts","../src/index.ts"],"sourcesContent":["import * as L from 'leaflet';\nimport * as GeoJSON from 'geojson';\n\nexport class LassoPolygon extends L.Layer {\n    readonly polyline: L.Polyline;\n    readonly polygon: L.Polygon;\n\n    constructor(latlngs: L.LatLngExpression[], options?: L.PolylineOptions) {\n        super();\n\n        this.polyline = L.polyline(latlngs, options);\n        this.polygon = L.polygon(latlngs, { ...options, weight: 0 });\n    }\n\n    onAdd(map: L.Map): this {\n        this.polyline.addTo(map);\n        this.polygon.addTo(map);\n\n        return this;\n    }\n\n    onRemove(): this {\n        this.polyline.remove();\n        this.polygon.remove();\n\n        return this;\n    }\n\n    addLatLng(latlng: L.LatLngExpression): this {\n        this.polyline.addLatLng(latlng);\n        this.polygon.addLatLng(latlng);\n\n        return this;\n    }\n\n    getLatLngs(): L.LatLng[] {\n        return this.polygon.getLatLngs()[0] as L.LatLng[];\n    }\n\n    toGeoJSON(): GeoJSON.Feature<GeoJSON.Polygon> {\n        return this.polygon.toGeoJSON() as GeoJSON.Feature<GeoJSON.Polygon>;\n    }\n}","/* @preserve\n* @terraformer/spatial - v2.1.1 - MIT\n* Copyright (c) 2012-2022 Environmental Systems Research Institute, Inc.\n* Tue Aug 02 2022 14:23:50 GMT-0700 (Pacific Daylight Time)\n*/\n/*\nInternal: Calculate an bounding box from an nested array of positions\n[\n  [\n    [ [lng, lat],[lng, lat],[lng, lat] ]\n  ]\n  [\n    [lng, lat],[lng, lat],[lng, lat]\n  ]\n  [\n    [lng, lat],[lng, lat],[lng, lat]\n  ]\n]\n*/\nvar calculateBoundsFromNestedArrays = function calculateBoundsFromNestedArrays(array) {\n  var x1 = null;\n  var x2 = null;\n  var y1 = null;\n  var y2 = null;\n\n  for (var i = 0; i < array.length; i++) {\n    var inner = array[i];\n\n    for (var j = 0; j < inner.length; j++) {\n      var lonlat = inner[j];\n      var lon = lonlat[0];\n      var lat = lonlat[1];\n\n      if (x1 === null) {\n        x1 = lon;\n      } else if (lon < x1) {\n        x1 = lon;\n      }\n\n      if (x2 === null) {\n        x2 = lon;\n      } else if (lon > x2) {\n        x2 = lon;\n      }\n\n      if (y1 === null) {\n        y1 = lat;\n      } else if (lat < y1) {\n        y1 = lat;\n      }\n\n      if (y2 === null) {\n        y2 = lat;\n      } else if (lat > y2) {\n        y2 = lat;\n      }\n    }\n  }\n\n  return [x1, y1, x2, y2];\n};\n/*\nInternal: Calculate a bounding box from an array of arrays of arrays\n[\n  [ [lng, lat],[lng, lat],[lng, lat] ]\n  [ [lng, lat],[lng, lat],[lng, lat] ]\n  [ [lng, lat],[lng, lat],[lng, lat] ]\n]\n*/\n\n\nvar calculateBoundsFromNestedArrayOfArrays = function calculateBoundsFromNestedArrayOfArrays(array) {\n  var x1 = null;\n  var x2 = null;\n  var y1 = null;\n  var y2 = null;\n\n  for (var i = 0; i < array.length; i++) {\n    var inner = array[i]; // return calculateBoundsFromNestedArrays(inner); // more DRY?\n\n    for (var j = 0; j < inner.length; j++) {\n      var innerinner = inner[j];\n\n      for (var k = 0; k < innerinner.length; k++) {\n        var lonlat = innerinner[k];\n        var lon = lonlat[0];\n        var lat = lonlat[1];\n\n        if (x1 === null) {\n          x1 = lon;\n        } else if (lon < x1) {\n          x1 = lon;\n        }\n\n        if (x2 === null) {\n          x2 = lon;\n        } else if (lon > x2) {\n          x2 = lon;\n        }\n\n        if (y1 === null) {\n          y1 = lat;\n        } else if (lat < y1) {\n          y1 = lat;\n        }\n\n        if (y2 === null) {\n          y2 = lat;\n        } else if (lat > y2) {\n          y2 = lat;\n        }\n      }\n    }\n  }\n\n  return [x1, y1, x2, y2];\n};\n/*\nInternal: Calculate a bounding box from an array of positions\n[\n  [lng, lat],[lng, lat],[lng, lat]\n]\n*/\n\n\nvar calculateBoundsFromArray = function calculateBoundsFromArray(array) {\n  var x1 = null;\n  var x2 = null;\n  var y1 = null;\n  var y2 = null;\n\n  for (var i = 0; i < array.length; i++) {\n    var lonlat = array[i];\n    var lon = lonlat[0];\n    var lat = lonlat[1];\n\n    if (x1 === null) {\n      x1 = lon;\n    } else if (lon < x1) {\n      x1 = lon;\n    }\n\n    if (x2 === null) {\n      x2 = lon;\n    } else if (lon > x2) {\n      x2 = lon;\n    }\n\n    if (y1 === null) {\n      y1 = lat;\n    } else if (lat < y1) {\n      y1 = lat;\n    }\n\n    if (y2 === null) {\n      y2 = lat;\n    } else if (lat > y2) {\n      y2 = lat;\n    }\n  }\n\n  return [x1, y1, x2, y2];\n};\n/*\nInternal: Calculate an bounding box for a feature collection\n*/\n\n\nvar calculateBoundsForFeatureCollection = function calculateBoundsForFeatureCollection(featureCollection) {\n  var extents = [];\n\n  for (var i = featureCollection.features.length - 1; i >= 0; i--) {\n    var extent = calculateBounds(featureCollection.features[i].geometry);\n    extents.push([extent[0], extent[1]]);\n    extents.push([extent[2], extent[3]]);\n  }\n\n  return calculateBoundsFromArray(extents);\n};\n/*\nInternal: Calculate an bounding box for a geometry collection\n*/\n\n\nvar calculateBoundsForGeometryCollection = function calculateBoundsForGeometryCollection(geometryCollection) {\n  var extents = [];\n\n  for (var i = geometryCollection.geometries.length - 1; i >= 0; i--) {\n    var extent = calculateBounds(geometryCollection.geometries[i]);\n    extents.push([extent[0], extent[1]]);\n    extents.push([extent[2], extent[3]]);\n  }\n\n  return calculateBoundsFromArray(extents);\n};\n\nvar calculateBounds = function calculateBounds(geojson) {\n  if (geojson.type) {\n    switch (geojson.type) {\n      case 'Point':\n        return [geojson.coordinates[0], geojson.coordinates[1], geojson.coordinates[0], geojson.coordinates[1]];\n\n      case 'MultiPoint':\n        return calculateBoundsFromArray(geojson.coordinates);\n\n      case 'LineString':\n        return calculateBoundsFromArray(geojson.coordinates);\n\n      case 'MultiLineString':\n        return calculateBoundsFromNestedArrays(geojson.coordinates);\n\n      case 'Polygon':\n        return calculateBoundsFromNestedArrays(geojson.coordinates);\n\n      case 'MultiPolygon':\n        return calculateBoundsFromNestedArrayOfArrays(geojson.coordinates);\n\n      case 'Feature':\n        return geojson.geometry ? calculateBounds(geojson.geometry) : null;\n\n      case 'FeatureCollection':\n        return calculateBoundsForFeatureCollection(geojson);\n\n      case 'GeometryCollection':\n        return calculateBoundsForGeometryCollection(geojson);\n\n      default:\n        throw new Error('Unknown type: ' + geojson.type);\n    }\n  }\n\n  return null;\n};\n\nvar EARTH_RADIUS = 6378137;\nvar DEGREES_PER_RADIAN = 57.295779513082320;\nvar RADIANS_PER_DEGREE = 0.017453292519943;\nvar MercatorCRS = {\n  type: 'link',\n  properties: {\n    href: 'http://spatialreference.org/ref/sr-org/6928/ogcwkt/',\n    type: 'ogcwkt'\n  }\n};\nvar GeographicCRS = {\n  type: 'link',\n  properties: {\n    href: 'http://spatialreference.org/ref/epsg/4326/ogcwkt/',\n    type: 'ogcwkt'\n  }\n};\n\n/*\nInternal: Convert radians to degrees. Used by spatial reference converters.\n*/\n\nvar radToDeg = function radToDeg(rad) {\n  return rad * DEGREES_PER_RADIAN;\n};\n/*\nInternal: Convert degrees to radians. Used by spatial reference converters.\n*/\n\nvar degToRad = function degToRad(deg) {\n  return deg * RADIANS_PER_DEGREE;\n};\nvar positionToGeographic = function positionToGeographic(position) {\n  var x = position[0];\n  var y = position[1];\n  return [radToDeg(x / EARTH_RADIUS) - Math.floor((radToDeg(x / EARTH_RADIUS) + 180) / 360) * 360, radToDeg(Math.PI / 2 - 2 * Math.atan(Math.exp(-1.0 * y / EARTH_RADIUS)))];\n};\nvar positionToMercator = function positionToMercator(position) {\n  var lng = position[0];\n  var lat = Math.max(Math.min(position[1], 89.99999), -89.99999);\n  return [degToRad(lng) * EARTH_RADIUS, EARTH_RADIUS / 2.0 * Math.log((1.0 + Math.sin(degToRad(lat))) / (1.0 - Math.sin(degToRad(lat))))];\n};\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\n/* Copyright (c) 2012-2019 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\nvar isNumber = function isNumber(n) {\n  return !isNaN(parseFloat(n)) && isFinite(n);\n};\n\nvar edgeIntersectsEdge = function edgeIntersectsEdge(a1, a2, b1, b2) {\n  var uaT = (b2[0] - b1[0]) * (a1[1] - b1[1]) - (b2[1] - b1[1]) * (a1[0] - b1[0]);\n  var ubT = (a2[0] - a1[0]) * (a1[1] - b1[1]) - (a2[1] - a1[1]) * (a1[0] - b1[0]);\n  var uB = (b2[1] - b1[1]) * (a2[0] - a1[0]) - (b2[0] - b1[0]) * (a2[1] - a1[1]);\n\n  if (uB !== 0) {\n    var ua = uaT / uB;\n    var ub = ubT / uB;\n\n    if (ua >= 0 && ua <= 1 && ub >= 0 && ub <= 1) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\nvar arraysIntersectArrays = function arraysIntersectArrays(a, b) {\n  if (isNumber(a[0][0])) {\n    if (isNumber(b[0][0])) {\n      for (var i = 0; i < a.length - 1; i++) {\n        for (var j = 0; j < b.length - 1; j++) {\n          if (edgeIntersectsEdge(a[i], a[i + 1], b[j], b[j + 1])) {\n            return true;\n          }\n        }\n      }\n    } else {\n      for (var k = 0; k < b.length; k++) {\n        if (arraysIntersectArrays(a, b[k])) {\n          return true;\n        }\n      }\n    }\n  } else {\n    for (var l = 0; l < a.length; l++) {\n      if (arraysIntersectArrays(a[l], b)) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n};\nvar coordinatesContainPoint = function coordinatesContainPoint(coordinates, point) {\n  var contains = false;\n\n  for (var i = -1, l = coordinates.length, j = l - 1; ++i < l; j = i) {\n    if ((coordinates[i][1] <= point[1] && point[1] < coordinates[j][1] || coordinates[j][1] <= point[1] && point[1] < coordinates[i][1]) && point[0] < (coordinates[j][0] - coordinates[i][0]) * (point[1] - coordinates[i][1]) / (coordinates[j][1] - coordinates[i][1]) + coordinates[i][0]) {\n      contains = !contains;\n    }\n  }\n\n  return contains;\n};\nvar pointsEqual = function pointsEqual(a, b) {\n  for (var i = 0; i < a.length; i++) {\n    if (a[i] !== b[i]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n/*\nInternal: used for sorting\n*/\n\nvar compSort = function compSort(p1, p2) {\n  if (p1[0] > p2[0]) {\n    return -1;\n  } else if (p1[0] < p2[0]) {\n    return 1;\n  } else if (p1[1] > p2[1]) {\n    return -1;\n  } else if (p1[1] < p2[1]) {\n    return 1;\n  } else {\n    return 0;\n  }\n};\n/*\n  Internal: -1,0,1 comparison function\n  */\n\nvar cmp = function cmp(a, b) {\n  if (a < b) {\n    return -1;\n  } else if (a > b) {\n    return 1;\n  } else {\n    return 0;\n  }\n};\n/*\n  Internal: used to determine turn\n  */\n\n\nvar turn = function turn(p, q, r) {\n  // Returns -1, 0, 1 if p,q,r forms a right, straight, or left turn.\n  return cmp((q[0] - p[0]) * (r[1] - p[1]) - (r[0] - p[0]) * (q[1] - p[1]), 0);\n};\n/*\n  Internal: used to determine euclidean distance between two points\n  */\n\n\nvar euclideanDistance = function euclideanDistance(p, q) {\n  // Returns the squared Euclidean distance between p and q.\n  var dx = q[0] - p[0];\n  var dy = q[1] - p[1];\n  return dx * dx + dy * dy;\n};\n\nvar nextHullPoint = function nextHullPoint(points, p) {\n  // Returns the next point on the convex hull in CCW from p.\n  var q = p;\n\n  for (var r in points) {\n    var t = turn(p, q, points[r]);\n\n    if (t === -1 || t === 0 && euclideanDistance(p, points[r]) > euclideanDistance(p, q)) {\n      q = points[r];\n    }\n  }\n\n  return q;\n};\n\nvar coordinateConvexHull = function coordinateConvexHull(points) {\n  // implementation of the Jarvis March algorithm\n  // adapted from http://tixxit.wordpress.com/2009/12/09/jarvis-march/\n  if (points.length === 0) {\n    return [];\n  } else if (points.length === 1) {\n    return points;\n  } // Returns the points on the convex hull of points in CCW order.\n\n\n  var hull = [points.sort(compSort)[0]];\n\n  for (var p = 0; p < hull.length; p++) {\n    var q = nextHullPoint(points, hull[p]);\n\n    if (q !== hull[0]) {\n      hull.push(q);\n    }\n  }\n\n  return hull;\n};\n/*\nInternal: Returns a copy of coordinates for a closed polygon\n*/\n\nvar closedPolygon = function closedPolygon(coordinates) {\n  var outer = [];\n\n  for (var i = 0; i < coordinates.length; i++) {\n    var inner = coordinates[i].slice();\n\n    if (pointsEqual(inner[0], inner[inner.length - 1]) === false) {\n      inner.push(inner[0]);\n    }\n\n    outer.push(inner);\n  }\n\n  return outer;\n};\n/*\nInternal: safe warning\n*/\n\nfunction warn() {\n  var args = Array.prototype.slice.apply(arguments);\n\n  if (typeof console !== 'undefined' && console.warn) {\n    console.warn.apply(console, args);\n  }\n}\n/*\nInternal: Loop over each array in a geojson object and apply a function to it. Used by spatial reference converters.\n*/\n\nvar eachPosition = function eachPosition(coordinates, func) {\n  for (var i = 0; i < coordinates.length; i++) {\n    // we found a number so lets convert the pair\n    if (typeof coordinates[i][0] === 'number') {\n      coordinates[i] = func(coordinates[i]);\n    } // we found an coordinates array it again and run the function against it\n\n\n    if (_typeof(coordinates[i]) === 'object') {\n      coordinates[i] = eachPosition(coordinates[i], func);\n    }\n  }\n\n  return coordinates;\n};\n/*\nApply a function agaist all positions in a geojson object. Used by spatial reference converters.\n*/\n\n\nvar applyConverter = function applyConverter(geojson, converter, noCrs) {\n  if (geojson.type === 'Point') {\n    geojson.coordinates = converter(geojson.coordinates);\n  } else if (geojson.type === 'Feature') {\n    geojson.geometry = applyConverter(geojson.geometry, converter, true);\n  } else if (geojson.type === 'FeatureCollection') {\n    for (var f = 0; f < geojson.features.length; f++) {\n      geojson.features[f] = applyConverter(geojson.features[f], converter, true);\n    }\n  } else if (geojson.type === 'GeometryCollection') {\n    for (var g = 0; g < geojson.geometries.length; g++) {\n      geojson.geometries[g] = applyConverter(geojson.geometries[g], converter, true);\n    }\n  } else {\n    geojson.coordinates = eachPosition(geojson.coordinates, converter);\n  }\n\n  if (!noCrs) {\n    if (converter === positionToMercator) {\n      geojson.crs = MercatorCRS;\n    }\n  }\n\n  if (converter === positionToGeographic) {\n    delete geojson.crs;\n  }\n\n  return geojson;\n};\nvar coordinatesEqual = function coordinatesEqual(a, b) {\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  var na = a.slice().sort(compSort);\n  var nb = b.slice().sort(compSort);\n\n  for (var i = 0; i < na.length; i++) {\n    if (na[i].length !== nb[i].length) {\n      return false;\n    }\n\n    for (var j = 0; j < na.length; j++) {\n      if (na[i][j] !== nb[i][j]) {\n        return false;\n      }\n    }\n  }\n\n  return true;\n};\n\nvar convexHull = function convexHull(geojson) {\n  var coordinates = [];\n  var i;\n  var j;\n\n  if (geojson.type === 'Point') {\n    return null;\n  } else if (geojson.type === 'LineString' || geojson.type === 'MultiPoint') {\n    if (geojson.coordinates && geojson.coordinates.length >= 3) {\n      coordinates = geojson.coordinates;\n    } else {\n      return null;\n    }\n  } else if (geojson.type === 'Polygon' || geojson.type === 'MultiLineString') {\n    if (geojson.coordinates && geojson.coordinates.length > 0) {\n      for (i = 0; i < geojson.coordinates.length; i++) {\n        coordinates = coordinates.concat(geojson.coordinates[i]);\n      }\n\n      if (coordinates.length < 3) {\n        return null;\n      }\n    } else {\n      return null;\n    }\n  } else if (geojson.type === 'MultiPolygon') {\n    if (geojson.coordinates && geojson.coordinates.length > 0) {\n      for (i = 0; i < geojson.coordinates.length; i++) {\n        for (j = 0; j < geojson.coordinates[i].length; j++) {\n          coordinates = coordinates.concat(geojson.coordinates[i][j]);\n        }\n      }\n\n      if (coordinates.length < 3) {\n        return null;\n      }\n    } else {\n      return null;\n    }\n  } else if (geojson.type === 'Feature') {\n    return convexHull(geojson.geometry);\n  }\n\n  return {\n    type: 'Polygon',\n    coordinates: closedPolygon([coordinateConvexHull(coordinates)])\n  };\n};\nvar isConvex = function isConvex(points) {\n  var ltz;\n\n  for (var i = 0; i < points.length - 3; i++) {\n    var p1 = points[i];\n    var p2 = points[i + 1];\n    var p3 = points[i + 2];\n    var v = [p2[0] - p1[0], p2[1] - p1[1]]; // p3.x * v.y - p3.y * v.x + v.x * p1.y - v.y * p1.x\n\n    var res = p3[0] * v[1] - p3[1] * v[0] + v[0] * p1[1] - v[1] * p1[0];\n\n    if (i === 0) {\n      if (res < 0) {\n        ltz = true;\n      } else {\n        ltz = false;\n      }\n    } else {\n      if (ltz && res > 0 || !ltz && res < 0) {\n        return false;\n      }\n    }\n  }\n\n  return true;\n};\n\nvar polygonContainsPoint = function polygonContainsPoint(polygon, point) {\n  if (polygon && polygon.length) {\n    if (polygon.length === 1) {\n      // polygon with no holes\n      return coordinatesContainPoint(polygon[0], point);\n    } else {\n      // polygon with holes\n      if (coordinatesContainPoint(polygon[0], point)) {\n        for (var i = 1; i < polygon.length; i++) {\n          if (coordinatesContainPoint(polygon[i], point)) {\n            return false; // found in hole\n          }\n        }\n\n        return true;\n      } else {\n        return false;\n      }\n    }\n  } else {\n    return false;\n  }\n};\n\nvar within = function within(geoJSON, comparisonGeoJSON) {\n  var coordinates, i, contains; // if we are passed a feature, use the polygon inside instead\n\n  if (comparisonGeoJSON.type === 'Feature') {\n    comparisonGeoJSON = comparisonGeoJSON.geometry;\n  } // point.within(point) :: equality\n\n\n  if (comparisonGeoJSON.type === 'Point') {\n    if (geoJSON.type === 'Point') {\n      return pointsEqual(geoJSON.coordinates, comparisonGeoJSON.coordinates);\n    }\n  } // point.within(multilinestring)\n\n\n  if (comparisonGeoJSON.type === 'MultiLineString') {\n    if (geoJSON.type === 'Point') {\n      for (i = 0; i < geoJSON.coordinates.length; i++) {\n        var linestring = {\n          type: 'LineString',\n          coordinates: comparisonGeoJSON.coordinates[i]\n        };\n\n        if (within(geoJSON, linestring)) {\n          return true;\n        }\n      }\n    }\n  } // point.within(linestring), point.within(multipoint)\n\n\n  if (comparisonGeoJSON.type === 'LineString' || comparisonGeoJSON.type === 'MultiPoint') {\n    if (geoJSON.type === 'Point') {\n      for (i = 0; i < comparisonGeoJSON.coordinates.length; i++) {\n        if (geoJSON.coordinates.length !== comparisonGeoJSON.coordinates[i].length) {\n          return false;\n        }\n\n        if (pointsEqual(geoJSON.coordinates, comparisonGeoJSON.coordinates[i])) {\n          return true;\n        }\n      }\n    }\n  }\n\n  if (comparisonGeoJSON.type === 'Polygon') {\n    // polygon.within(polygon)\n    if (geoJSON.type === 'Polygon') {\n      // check for equal polygons\n      if (comparisonGeoJSON.coordinates.length === geoJSON.coordinates.length) {\n        for (i = 0; i < geoJSON.coordinates.length; i++) {\n          if (coordinatesEqual(geoJSON.coordinates[i], comparisonGeoJSON.coordinates[i])) {\n            return true;\n          }\n        }\n      }\n\n      if (geoJSON.coordinates.length && polygonContainsPoint(comparisonGeoJSON.coordinates, geoJSON.coordinates[0][0])) {\n        return !arraysIntersectArrays(closedPolygon(geoJSON.coordinates), closedPolygon(comparisonGeoJSON.coordinates));\n      } else {\n        return false;\n      } // point.within(polygon)\n\n    } else if (geoJSON.type === 'Point') {\n      return polygonContainsPoint(comparisonGeoJSON.coordinates, geoJSON.coordinates); // linestring/multipoint withing polygon\n    } else if (geoJSON.type === 'LineString' || geoJSON.type === 'MultiPoint') {\n      if (!geoJSON.coordinates || geoJSON.coordinates.length === 0) {\n        return false;\n      }\n\n      for (i = 0; i < geoJSON.coordinates.length; i++) {\n        if (polygonContainsPoint(comparisonGeoJSON.coordinates, geoJSON.coordinates[i]) === false) {\n          return false;\n        }\n      }\n\n      return true; // multilinestring.within(polygon)\n    } else if (geoJSON.type === 'MultiLineString') {\n      for (i = 0; i < geoJSON.coordinates.length; i++) {\n        var ls = {\n          type: 'LineString',\n          coordinates: geoJSON.coordinates[i]\n        };\n\n        if (within(ls, comparisonGeoJSON) === false) {\n          contains++;\n          return false;\n        }\n      }\n\n      return true; // multipolygon.within(polygon)\n    } else if (geoJSON.type === 'MultiPolygon') {\n      for (i = 0; i < geoJSON.coordinates.length; i++) {\n        var p1 = {\n          type: 'Polygon',\n          coordinates: geoJSON.coordinates[i]\n        };\n\n        if (within(p1, comparisonGeoJSON) === false) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n  }\n\n  if (comparisonGeoJSON.type === 'MultiPolygon') {\n    // point.within(multipolygon)\n    if (geoJSON.type === 'Point') {\n      if (comparisonGeoJSON.coordinates.length) {\n        for (i = 0; i < comparisonGeoJSON.coordinates.length; i++) {\n          coordinates = comparisonGeoJSON.coordinates[i];\n\n          if (polygonContainsPoint(coordinates, geoJSON.coordinates) && arraysIntersectArrays([geoJSON.coordinates], comparisonGeoJSON.coordinates) === false) {\n            return true;\n          }\n        }\n      }\n\n      return false; // polygon.within(multipolygon)\n    } else if (geoJSON.type === 'Polygon') {\n      for (i = 0; i < geoJSON.coordinates.length; i++) {\n        if (comparisonGeoJSON.coordinates[i].length === geoJSON.coordinates.length) {\n          for (var j = 0; j < geoJSON.coordinates.length; j++) {\n            if (coordinatesEqual(geoJSON.coordinates[j], comparisonGeoJSON.coordinates[i][j])) {\n              return true;\n            }\n          }\n        }\n      }\n\n      if (arraysIntersectArrays(geoJSON.coordinates, comparisonGeoJSON.coordinates) === false) {\n        if (comparisonGeoJSON.coordinates.length) {\n          for (i = 0; i < comparisonGeoJSON.coordinates.length; i++) {\n            coordinates = comparisonGeoJSON.coordinates[i];\n\n            if (polygonContainsPoint(coordinates, geoJSON.coordinates[0][0]) === false) {\n              contains = false;\n            } else {\n              contains = true;\n            }\n          }\n\n          return contains;\n        }\n      } // linestring.within(multipolygon), multipoint.within(multipolygon)\n\n    } else if (geoJSON.type === 'LineString' || geoJSON.type === 'MultiPoint') {\n      for (i = 0; i < comparisonGeoJSON.coordinates.length; i++) {\n        var poly = {\n          type: 'Polygon',\n          coordinates: comparisonGeoJSON.coordinates[i]\n        };\n\n        if (within(geoJSON, poly)) {\n          return true;\n        }\n\n        return false;\n      } // multilinestring.within(multipolygon)\n\n    } else if (geoJSON.type === 'MultiLineString') {\n      for (i = 0; i < geoJSON.coordinates.length; i++) {\n        var _ls = {\n          type: 'LineString',\n          coordinates: geoJSON.coordinates[i]\n        };\n\n        if (within(_ls, comparisonGeoJSON) === false) {\n          return false;\n        }\n      }\n\n      return true; // multipolygon.within(multipolygon)\n    } else if (geoJSON.type === 'MultiPolygon') {\n      for (i = 0; i < comparisonGeoJSON.coordinates.length; i++) {\n        var mpoly = {\n          type: 'Polygon',\n          coordinates: comparisonGeoJSON.coordinates[i]\n        };\n\n        if (within(geoJSON, mpoly) === false) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n  } // default to false\n\n\n  return false;\n};\n\nvar contains = function contains(geoJSON, comparisonGeoJSON) {\n  return within(comparisonGeoJSON, geoJSON);\n};\n\nvar intersects = function intersects(geoJSON, comparisonGeoJSON) {\n  // if we are passed a feature, use the polygon inside instead\n  if (comparisonGeoJSON.type === 'Feature') {\n    comparisonGeoJSON = comparisonGeoJSON.geometry;\n  }\n\n  if (within(geoJSON, comparisonGeoJSON) || within(comparisonGeoJSON, geoJSON)) {\n    return true;\n  }\n\n  if (geoJSON.type === 'MultiPolygon' && multipolygonIntersection(geoJSON, comparisonGeoJSON)) {\n    return true;\n  }\n\n  if (geoJSON.type !== 'Point' && geoJSON.type !== 'MultiPoint' && comparisonGeoJSON.type !== 'Point' && comparisonGeoJSON.type !== 'MultiPoint') {\n    return arraysIntersectArrays(geoJSON.coordinates, comparisonGeoJSON.coordinates);\n  } else if (geoJSON.type === 'Feature') {\n    // in the case of a Feature, use the internal geometry for intersection\n    var inner = geoJSON.geometry;\n    return intersects(inner, comparisonGeoJSON);\n  }\n\n  warn('Type ' + geoJSON.type + ' to ' + comparisonGeoJSON.type + ' intersection is not supported by intersects');\n  return false;\n};\n\nfunction multipolygonIntersection(geoJSON, comparisonGeoJSON) {\n  return geoJSON.coordinates.some(function (coordinates) {\n    var componentPolygon = {\n      type: 'Polygon',\n      coordinates: coordinates\n    };\n    return within(componentPolygon, comparisonGeoJSON) || within(comparisonGeoJSON, componentPolygon);\n  });\n}\n\nvar VINCENTY = {\n  a: 6378137,\n  b: 6356752.3142,\n  f: 1 / 298.257223563\n};\nvar toGeographic = function toGeographic(geojson) {\n  return applyConverter(geojson, positionToGeographic);\n};\nvar toCircle = function toCircle(center, radius, interpolate) {\n  var steps = interpolate || 64;\n  var rad = radius || 250;\n\n  if (!center || center.length < 2 || !rad || !steps) {\n    throw new Error('Terraformer: missing parameter for Terraformer.Circle');\n  }\n\n  return {\n    type: 'Feature',\n    geometry: createGeodesicCircle(center, rad, steps),\n    properties: {\n      radius: rad,\n      center: center,\n      steps: steps\n    }\n  };\n};\n/* cribbed from\n  http://stackoverflow.com/questions/24145205/writing-a-function-to-convert-a-circle-to-a-polygon-using-leaflet-js\n*/\n\nvar createGeodesicCircle = function createGeodesicCircle(center, radius, interpolate) {\n  var steps = interpolate || 64;\n  var polygon = {\n    type: 'Polygon',\n    coordinates: [[]]\n  };\n  var angle;\n\n  for (var i = 0; i < steps; i++) {\n    angle = i * 360 / steps;\n    polygon.coordinates[0].push(destinationVincenty(center, angle, radius));\n  }\n\n  polygon.coordinates = closedPolygon(polygon.coordinates);\n  return polygon;\n};\n\nvar destinationVincenty = function destinationVincenty(coords, brng, dist) {\n  var cos2SigmaM, sinSigma, cosSigma, deltaSigma;\n  var a = VINCENTY.a;\n  var b = VINCENTY.b;\n  var f = VINCENTY.f;\n  var lon1 = coords[0];\n  var lat1 = coords[1];\n  var s = dist;\n  var pi = Math.PI;\n  var alpha1 = brng * pi / 180; // converts brng degrees to radius\n\n  var sinAlpha1 = Math.sin(alpha1);\n  var cosAlpha1 = Math.cos(alpha1);\n  var tanU1 = (1 - f) * Math.tan(lat1 * pi / 180\n  /* converts lat1 degrees to radius */\n  );\n  var cosU1 = 1 / Math.sqrt(1 + tanU1 * tanU1);\n  var sinU1 = tanU1 * cosU1;\n  var sigma1 = Math.atan2(tanU1, cosAlpha1);\n  var sinAlpha = cosU1 * sinAlpha1;\n  var cosSqAlpha = 1 - sinAlpha * sinAlpha;\n  var uSq = cosSqAlpha * (a * a - b * b) / (b * b);\n  var A = 1 + uSq / 16384 * (4096 + uSq * (-768 + uSq * (320 - 175 * uSq)));\n  var B = uSq / 1024 * (256 + uSq * (-128 + uSq * (74 - 47 * uSq)));\n  var sigma = s / (b * A);\n  var sigmaP = 2 * Math.PI;\n\n  while (Math.abs(sigma - sigmaP) > 1e-12) {\n    cos2SigmaM = Math.cos(2 * sigma1 + sigma);\n    sinSigma = Math.sin(sigma);\n    cosSigma = Math.cos(sigma);\n    deltaSigma = B * sinSigma * (cos2SigmaM + B / 4 * (cosSigma * (-1 + 2 * cos2SigmaM * cos2SigmaM) - B / 6 * cos2SigmaM * (-3 + 4 * sinSigma * sinSigma) * (-3 + 4 * cos2SigmaM * cos2SigmaM)));\n    sigmaP = sigma;\n    sigma = s / (b * A) + deltaSigma;\n  }\n\n  var tmp = sinU1 * sinSigma - cosU1 * cosSigma * cosAlpha1;\n  var lat2 = Math.atan2(sinU1 * cosSigma + cosU1 * sinSigma * cosAlpha1, (1 - f) * Math.sqrt(sinAlpha * sinAlpha + tmp * tmp));\n  var lambda = Math.atan2(sinSigma * sinAlpha1, cosU1 * cosSigma - sinU1 * sinSigma * cosAlpha1);\n  var C = f / 16 * cosSqAlpha * (4 + f * (4 - 3 * cosSqAlpha));\n  var lam = lambda - (1 - C) * f * sinAlpha * (sigma + C * sinSigma * (cos2SigmaM + C * cosSigma * (-1 + 2 * cos2SigmaM * cos2SigmaM)));\n  var lamFunc = lon1 + lam * 180 / pi; // converts lam radius to degrees\n\n  var lat2a = lat2 * 180 / pi; // converts lat2a radius to degrees\n\n  return [lamFunc, lat2a];\n};\n\n/* Copyright (c) 2012-2019 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n/**\n * Calculate the envelope surrounding the input.\n * @function\n * @param {object} GeoJSON - The input [GeoJSON](https://tools.ietf.org/html/rfc7946) Geometry, Feature, GeometryCollection or FeatureCollection.\n * @return {Object} Object in the form { x, y, w, h }.\n * ```js\n * import { calculateEnvelope } from \"@terraformer/spatial\"\n *\n * calculateEnvelope({\n *   type: \"Point\",\n *   coordinates: [ 100, 100 ]\n * })\n *\n * >> { x: 100, y: 100, w: 0, h: 0, }\n * ```\n */\n\nvar calculateEnvelope = function calculateEnvelope(geojson) {\n  var bounds = calculateBounds(geojson);\n  return {\n    x: bounds[0],\n    y: bounds[1],\n    w: Math.abs(bounds[0] - bounds[2]),\n    h: Math.abs(bounds[1] - bounds[3])\n  };\n};\n/**\n * Reproject WGS84 (Lat/Lng) GeoJSON to Web Mercator.\n * @function\n * @param {object} GeoJSON - The input [GeoJSON](https://tools.ietf.org/html/rfc7946) Geometry, Feature, GeometryCollection or FeatureCollection.\n * @return {object} GeoJSON\n * ```js\n * import { toMercator } from \"@terraformer/spatial\"\n *\n * toMercator({\n *   type: \"Point\",\n *   coordinates: [ 45, 60 ]\n * })\n *\n * >> { type: \"Point\", coordinates: [ -13580978, 5621521 ], crs }\n * ```\n */\n\nvar toMercator = function toMercator(geojson) {\n  return applyConverter(geojson, positionToMercator);\n};\n\nexport { GeographicCRS, MercatorCRS, applyConverter, calculateBounds, calculateEnvelope, contains, convexHull, intersects, isConvex, polygonContainsPoint, positionToGeographic, positionToMercator, toCircle, toGeographic, toMercator, within };\n","import * as L from 'leaflet';\nimport * as GeoJSON from 'geojson';\nimport { calculateBounds, toCircle, contains, intersects } from '@terraformer/spatial';\n\nfunction geoJSONGeometryToBounds(geometry: GeoJSON.GeometryObject) {\n    const bounds = calculateBounds(geometry);\n    const leafletBounds = L.latLngBounds([bounds[1], bounds[0]], [bounds[3], bounds[2]]);\n    return leafletBounds;\n}\n\nfunction getCircleMarkerRadius(circleMarker: L.CircleMarker, crs: L.CRS, zoom: number) {\n    const latLng = circleMarker.getLatLng();\n    const point = crs.latLngToPoint(latLng, zoom);\n    const delta = circleMarker.getRadius() / Math.SQRT2;\n    const topLeftPoint = L.point([point.x - delta, point.y - delta]);\n    const topLeftLatLng = crs.pointToLatLng(topLeftPoint, zoom);\n    const radius = crs.distance(latLng, topLeftLatLng);\n    return radius;\n}\n\nfunction circleToGeoJSONGeometry(latLng: L.LatLng, radius: number) {\n    return toCircle(L.GeoJSON.latLngToCoords(latLng), radius).geometry;\n}\n\nfunction layerToGeoJSONGeometry(layer: L.Layer, options: { zoom?: number, crs?: L.CRS } = {}): GeoJSON.Geometry | undefined {\n    if (layer instanceof L.Circle) {\n        const latLng = layer.getLatLng();\n        const radius = layer.getRadius();\n        return circleToGeoJSONGeometry(latLng, radius);\n    } else if (layer instanceof L.CircleMarker) {\n        if (options.zoom != undefined && options.crs != undefined) {\n            const latLng = layer.getLatLng();\n            const radius = getCircleMarkerRadius(layer, options.crs, options.zoom);\n            return circleToGeoJSONGeometry(latLng, radius);\n        } else {\n            console.warn(\"Zoom and CRS is required for calculating CircleMarker polygon, falling back to center point only\");\n            return layer.toGeoJSON().geometry;\n        }\n    } else if (layer instanceof L.Marker || layer instanceof L.Polyline) {\n        return layer.toGeoJSON().geometry;\n    } else {\n        console.warn(\"Layer GeoJSON geometry is not available\", layer);\n        return undefined;\n    }\n}\n\nfunction polygonContains(polygon: GeoJSON.Polygon, layerGeometry: GeoJSON.GeometryObject) {\n    return contains(polygon, layerGeometry);\n}\n\nfunction polygonIntersects(polygon: GeoJSON.Polygon, layerGeometry: GeoJSON.GeometryObject) {\n    return layerGeometry.type === \"Point\" ?\n        contains(polygon, layerGeometry) :\n        intersects(polygon, layerGeometry);\n}\n\nexport function getLayersInPolygon(polygon: L.Polygon, layers: L.Layer[], options: { zoom?: number, crs?: L.CRS, intersect?: boolean } = {}) {\n    const polygonGeometry = polygon.toGeoJSON().geometry as GeoJSON.Polygon;\n    const polygonBounds = polygon.getBounds();\n\n    const selectedLayers = layers.filter(layer => {\n        // check bounds first (fast)\n        let layerGeometry;\n        let layerBounds;\n        if (layer instanceof L.Polyline) {\n            layerBounds = layer.getBounds();\n        } else {\n            layerGeometry = layerToGeoJSONGeometry(layer, options);\n            if (layerGeometry) {\n                layerBounds = geoJSONGeometryToBounds(layerGeometry);\n            }\n        }\n\n        // some bounds may be invalid, for example for empty polylines\n        if (!layerBounds || !layerBounds.isValid()) {\n            return false;\n        }\n\n        const boundsResult = options.intersect ?\n            polygonBounds.intersects(layerBounds) :\n            polygonBounds.contains(layerBounds);\n        if (!boundsResult) {\n            return false;\n        }\n\n        // check full geometry (slow)\n        if (!layerGeometry) {\n            layerGeometry = layerToGeoJSONGeometry(layer, options);\n        }\n        if (!layerGeometry) {\n            return false;\n        }\n\n        const geometryResult = options.intersect ?\n            polygonIntersects(polygonGeometry, layerGeometry) :\n            polygonContains(polygonGeometry, layerGeometry);\n        return geometryResult;\n    });\n    \n    return selectedLayers;\n}","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import * as L from 'leaflet';\nimport { LassoPolygon } from './lasso-polygon';\nimport { getLayersInPolygon } from './calc';\nimport './lasso-handler.css';\n\nexport interface LassoHandlerOptions {\n    polygon?: L.PolylineOptions,\n    intersect?: boolean;\n}\n\ninterface LassoHandlerFinishedEventData {\n    originalEvent: MouseEvent;\n    latLngs: L.LatLng[];\n    layers: L.Layer[];\n}\n\nexport type LassoHandlerFinishedEvent = L.LeafletEvent & LassoHandlerFinishedEventData;\n\nexport const ENABLED_EVENT = 'lasso.enabled';\nexport const DISABLED_EVENT = 'lasso.disabled';\nexport const FINISHED_EVENT = 'lasso.finished';\n\nexport const ACTIVE_CLASS = 'leaflet-lasso-active';\n\nexport class LassoHandler extends L.Handler {\n    options: LassoHandlerOptions = {\n        polygon: {\n            color: '#00C3FF',\n            weight: 2,\n        },\n        intersect: false,\n    };\n\n    private map: L.Map;\n\n    private polygon?: LassoPolygon;\n\n    private onMapMouseDownBound = this.onMapMouseDown.bind(this);\n    private onDocumentMouseMoveBound = this.onDocumentMouseMove.bind(this);\n    private onDocumentMouseUpBound = this.onDocumentMouseUp.bind(this);\n\n    constructor(map: L.Map, options: LassoHandlerOptions = {}) {\n        super(map);\n        \n        this.map = map;\n        L.Util.setOptions(this, options);\n    }\n\n    setOptions(options: LassoHandlerOptions) {\n        this.options = { ...this.options, ...options };\n    }\n\n    toggle() {\n        if (this.enabled()) {\n            this.disable();\n        } else {\n            this.enable();\n        }\n    }\n    \n    addHooks() {\n        this.map.getPane('mapPane');\n        this.map.getContainer().addEventListener('mousedown', this.onMapMouseDownBound);\n        this.map.getContainer().addEventListener('touchstart', this.onMapMouseDownBound);\n        \n        const mapContainer = this.map.getContainer();\n        mapContainer.classList.add(ACTIVE_CLASS);\n\n        this.map.dragging.disable();\n        this.map.fire(ENABLED_EVENT);\n    }\n\n    removeHooks() {\n        if (this.polygon) {\n            this.map.removeLayer(this.polygon);\n            this.polygon = undefined;\n        }\n\n        this.map.getContainer().removeEventListener('mousedown', this.onMapMouseDownBound);\n        this.map.getContainer().removeEventListener('touchstart', this.onMapMouseDownBound);\n        document.removeEventListener('mousemove', this.onDocumentMouseMoveBound);\n        document.removeEventListener('touchmove', this.onDocumentMouseMoveBound);\n        document.removeEventListener('mouseup', this.onDocumentMouseUpBound);\n        document.removeEventListener('touchend', this.onDocumentMouseUpBound);\n\n        this.map.getContainer().classList.remove(ACTIVE_CLASS);\n        document.body.classList.remove(ACTIVE_CLASS);\n\n        this.map.dragging.enable();\n        this.map.fire(DISABLED_EVENT);\n    }\n\n    private onMapMouseDown(event: Event) {\n        event.stopPropagation();\n        \n        let event2 = this.eventToMouseEvent('down', event);\n        if (!event2) {\n            return;\n        }\n\n        // activate lasso only for left mouse button click\n        if (event instanceof MouseEvent && !(event as any)._simulated && event.buttons !== 1) {\n            this.disable();\n            return;\n        }\n\n        // skip clicks on controls\n        if ((event.target as HTMLElement).closest('.leaflet-control-container')) {\n            return;\n        }\n\n        const latLng = this.map.mouseEventToLatLng(event2);\n        this.polygon = new LassoPolygon([latLng], this.options.polygon).addTo(this.map);\n\n        document.body.classList.add(ACTIVE_CLASS);\n\n        document.addEventListener('mousemove', this.onDocumentMouseMoveBound);\n        document.addEventListener('touchmove', this.onDocumentMouseMoveBound);\n        document.addEventListener('mouseup', this.onDocumentMouseUpBound);\n        document.addEventListener('touchend', this.onDocumentMouseUpBound);\n\n        event.preventDefault();\n    }\n\n    private onDocumentMouseMove(event: Event) {\n        event.stopPropagation();\n        \n        let event2 = this.eventToMouseEvent('move', event);\n        if (!event2) {\n            return;\n        }\n\n        if (!this.polygon) {\n            return;\n        }\n\n        // keep lasso active only if left mouse button is hold\n        if (event instanceof MouseEvent && !(event as any)._simulated && event.buttons !== 1) {\n            // warning disabled as it causes confusion and the cause is unclear\n            // console.warn('mouseup event was missed');\n            this.finish(event);\n            return;\n        }\n\n        const latLng = this.map.mouseEventToLatLng(event2);\n        this.polygon.addLatLng(latLng);\n\n        event.preventDefault();\n    }\n\n    private onDocumentMouseUp(event: MouseEvent | TouchEvent) {\n        this.finish(event);\n        event.stopPropagation();\n        event.preventDefault();\n    }\n\n    private eventToMouseEvent(type: string, event: Event) {\n        if (event instanceof MouseEvent) {\n            return event;\n        }\n        if (event instanceof TouchEvent && event.touches.length === 1) {\n            return new MouseEvent(type, {\n                screenX: event.touches[0].screenX,\n                screenY: event.touches[0].screenY,\n                clientX: event.touches[0].clientX,\n                clientY: event.touches[0].clientY,\n                buttons: 1,\n            });\n        }\n    }\n\n    private finish(event: MouseEvent | TouchEvent) {\n        if (!this.polygon) {\n            return;\n        }\n\n        const layers: L.Layer[] = [];\n        this.map.eachLayer(layer => {\n            if (layer === this.polygon || layer === this.polygon!.polyline || layer === this.polygon!.polygon) {\n                return;\n            }\n\n            if (L.MarkerCluster && layer instanceof L.MarkerCluster) {\n                layers.push(...layer.getAllChildMarkers());\n            } else if (layer instanceof L.Marker || layer instanceof L.Path) {\n                layers.push(layer);\n            }\n        });\n\n        const selectedFeatures = getLayersInPolygon(this.polygon.polygon, layers, {\n            zoom: this.map.getZoom(),\n            crs: this.map.options.crs,\n            intersect: this.options.intersect,\n        });\n\n        this.map.fire(FINISHED_EVENT, {\n            originalEvent: event,\n            latLngs: this.polygon.getLatLngs(),\n            layers: selectedFeatures,\n        } as LassoHandlerFinishedEventData);\n\n        this.disable();\n    }\n}\n","import * as L from 'leaflet';\nimport { LassoHandler, LassoHandlerOptions } from './lasso-handler';\nimport './lasso-control.css';\n\nexport interface LassoControlOptionsData  {\n    title?: string;\n}\n\nexport type LassoControlOptions = L.ControlOptions & LassoControlOptionsData & LassoHandlerOptions;\n\nexport class LassoControl extends L.Control {\n    options: LassoControlOptions = {\n        position: 'topright',\n        title: 'Toggle Lasso'\n    };\n\n    private lasso?: LassoHandler;\n\n    constructor(options: LassoControlOptions = {}) {\n        super();\n\n        L.Util.setOptions(this, options);\n    }\n\n    setOptions(options: LassoControlOptions) {\n        this.options = { ...this.options, ...options };\n        \n        if (this.lasso) {\n            this.lasso.setOptions(this.options);\n        }\n    }\n\n    onAdd(map: L.Map) {\n        this.lasso = new LassoHandler(map, this.options);\n\n        const container = L.DomUtil.create('div', 'leaflet-bar leaflet-control') as HTMLDivElement;\n        const button = L.DomUtil.create('a', 'leaflet-control-lasso', container) as HTMLAnchorElement;\n        button.href = 'javascript:void(0)';\n        button.title = this.options.title!;\n        button.setAttribute('role', 'button');\n        button.setAttribute('aria-label', button.title);\n\n        L.DomEvent.addListener(button, 'click', this.toggle, this);\n        L.DomEvent.disableClickPropagation(button);\n\n        return container;\n    }\n\n    enabled() {\n        if (!this.lasso) {\n            return false;\n        }\n        return this.lasso.enabled();\n    }\n\n    enable() {\n        if (!this.lasso) {\n            return;\n        }\n        this.lasso.enable();\n    }\n\n    disable() {\n        if (!this.lasso) {\n            return;\n        }\n        this.lasso.disable();\n    }\n\n    toggle() {\n        if (!this.lasso) {\n            return;\n        }\n        this.lasso.toggle();\n    }\n}\n","import 'leaflet';\nimport { LassoHandler } from './lasso-handler';\nimport { LassoControl } from './lasso-control';\n\ndeclare module 'leaflet' {\n    type Lasso = LassoHandler;\n    let Lasso: typeof LassoHandler;\n\n    let lasso: (...args: ConstructorParameters<typeof LassoHandler>) => LassoHandler;\n    \n    namespace Control {\n        type Lasso = LassoControl;\n        let Lasso: typeof LassoControl;\n    }\n\n    namespace control {\n        let lasso: (...args: ConstructorParameters<typeof LassoControl>) => LassoControl;\n    }\n}\n\nif (typeof window.L !== 'undefined') {\n    window.L.Lasso = LassoHandler;\n    window.L.lasso = (...args: ConstructorParameters<typeof LassoHandler>) => new LassoHandler(...args);\n\n    window.L.Control.Lasso = LassoControl;\n    window.L.control.lasso = (...args: ConstructorParameters<typeof LassoControl>) => new LassoControl(...args);\n}\n\nexport * from './lasso-handler';\nexport * from './lasso-control';"],"names":["L"],"mappings":"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","x_google_ignoreList":[1,3]}